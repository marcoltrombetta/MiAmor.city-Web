@model MiAmor.Web.Models.CustomerProfileCities
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
}




<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="well well-sm" style="width:80%">
                <form class="form-horizontal" id="customerProfileForm" method="post">
                    <fieldset>
                        <legend class="text-center header">Customer Profile</legend>

                        <input type="hidden" value="@Model.CustomerProfile.Id" name="Id" id="Id" />
                        <input type="hidden" name="CustId" id="CustId" />

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="FirstName" name="FirstName" type="text" value="@Model.CustomerProfile.FirstName" placeholder="First Name" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="LastName" name="LastName" type="text" value="@Model.CustomerProfile.LastName" placeholder="Last Name" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-envelope-o bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="Email" name="Email" type="text" value="@Model.CustomerProfile.Email" placeholder="Email Address" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                            <div class="col-md-8">
                                @Html.CheckBox("Gender", Model.CustomerProfile.Gender.GetValueOrDefault(), new { id = "Gender", name = "Gender" })
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="Phone" name="Phone" type="text" value="@Model.CustomerProfile.Phone" placeholder="Phone" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="Mobile" name="Mobile" type="text" value="@Model.CustomerProfile.Mobile" placeholder="Mobile" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class='input-group date col-md-8' id='divdateofbirth'>
                                @Html.TextBox("MarriageDate", Model.CustomerProfile.DateOfBirth)
                                @*  <input type='text' id="DateOfBirth" value="@Model.CustomerProfile.DateOfBirth" name="DateOfBirth" class="form-control" />*@
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="fileinput fileinput-new col-md-8" data-provides="fileinput">
                                <div class="fileinput-preview thumbnail" data-trigger="fileinput" style="width: 200px; height: 150px;"></div>
                                <div>
                                    <span class="btn btn-default btn-file"><span class="fileinput-new">Select image</span><span class="fileinput-exists">Change</span><input type="file" name="..."></span>
                                    <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class='input-group date col-md-8' id='divmarriagedate'>
                                @Html.TextBox("MarriageDate", Model.CustomerProfile.MarriageDate)
                                @*<input type='text' id="MarriageDate" value="@Model.CustomerProfile.MarriageDate" name="MarriageDate" class="form-control" />*@
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="Password" name="Password" type="password" value="@Model.CustomerProfile.Password" placeholder="Password" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                            <div class="col-md-8">
                                <input id="MainAddress" name="MainAddress" value="@Model.CustomerProfile.MainAddress" type="text" placeholder="Main Adress" class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                            <div class="col-md-8">
                                @{
                                    if (Model.CustomerProfile.CityId == null)
                                    {
                                        @Html.DropDownList("CityId", new SelectList(Model.Cities, "Id", "Name"), "Choose... ")
                                    }
                                    else
                                    {
                                        @Html.DropDownList("CityId", new SelectList(Model.Cities, "Id", "Name", Model.CustomerProfile.CityId), "Choose... ")
                                    }
                                }
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-12 text-center">
                                <button type="button" id="SubmitCustomer" class="btn btn-primary btn-lg">Submit</button>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $('#divdateofbirth').datetimepicker();
        $('#divmarriagedate').datetimepicker();

        $("#SubmitCustomer").click(function (event) {
            $('#CustId').val(getFromLocalStorage("userCustId"));
            var serializedForm = $("#customerProfileForm").serialize();

            $.ajax({
                url: '/Customer/SaveCustomerProfile',
                data: serializedForm,
                type: 'POST',
                header: { "Content-Type": "application/json" },
                success: function (result) {

                },
                error: function (err) {
                    alert(data.message);
                }
            });
        });
    });
</script>